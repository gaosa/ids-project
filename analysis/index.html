<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

    <title>IDS - Soccer Analysis</title>

    <style type="text/css">
      .title-font {
        font-family: Tahoma, Geneva, sans-serif;
      }
    </style>
    <link rel="shortcut icon" href="../favicon.ico" />
  </head>
  <body>
    <nav class="navbar navbar-expand-md navbar-light bg-light">
      <div class="container">
        <a class="navbar-brand" href="../">
          <strong>Soccer</strong>Analysis
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="../goals">
                Goals
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../about">
                About
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../summary">
                Summary
              </a>
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="../analysis">
                Analysis
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../prediction">
                Prediction
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="jumbotron jumbotron-fluid" style="background-image: url('../title-background.jpg');background-size: cover;">
      <div class="container">
        <h1 class="display-4 title-font text-light">Dataset Analysis</h1>
      </div>
    </div>
    
    <div class="jumbotron jumbotron-fluid" style="background-color: white">
        <div class="container">
            <p>This dataset includes England Premier League’s (EPL) match statistics and odds for last 2 decades.
              Given this dataset, we visualized the performance of different teams and the trends of change
              in playstyle. Specifically, we analyzed the win rate of home team and away team, the match
              statistics per team in each season, match results between different teams, fouls committed
              between different teams, and the odds given by different book makers. Those analysis gives
              us some interesting insights into the match statistics and odds, and these information can
              be well utilized to predict the results of future matches.</p>
        </div>
    </div>

    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <canvas id="home_away_win" style="width:100%; height: 400px;"></canvas>
                </div>
                <div class="col-md-4 d-flex align-items-center">
                        <p>Is the home team tend to win? The answer is probably yes. Left is a
                            stacked line chart showing the number of matches won by the home team,
                            the away team, or resulted in draws. We can see that more than one-third
                            of the matches are won by the home team. Therefore, to predict the result
                            of a match, even if the home team is not as competitive as the away team,
                            one may need to think twice before he bets that the home team will lose.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="jumbotron jumbotron-fluid" style="background-color: white">
        <div class="container">
            <div class="row">
                <div class="col-md-4 d-flex align-items-center">
                    <p>When assessing the performance of a team, apart from the results of the matches,
                        the number of goals and goals conceded are also important indicators. If the
                        number of goals of a team is more than the number of goals conceded, then probably
                        this team is a competitive team; otherwise, maybe this team is struggling to
                        survive in the premier league. Also, we can observe that usually, a team scores
                        more and loses less when playing at home.</p>
                </div>
                <div class="col-md-8">
                    <canvas id="goal_num" style="width:100%; height: 400px;margin-bottom: 10px"></canvas>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="goal_num_select">Display Data for Team: </label>
                        </div>
                        <select class="custom-select" id="goal_num_select" onchange="goal_num_select_handle()">
                                <option value="All" selected>All
                                <option value="Arsenal">Arsenal
                                <option value="Aston Villa">Aston Villa
                                <option value="Chelsea">Chelsea
                                <option value="Liverpool">Liverpool
                                <option value="Man City">Man City
                                <option value="Newcastle">Newcastle
                                <option value="Oldham">Oldham
                                <option value="Sheffield United">Sheffield United
                                <option value="Southampton">Southampton
                                <option value="West Ham">West Ham
                                <option value="Norwich">Norwich
                                <option value="Tottenham">Tottenham
                                <option value="Everton">Everton
                                <option value="Ipswich">Ipswich
                                <option value="Leeds">Leeds
                                <option value="Wimbledon">Wimbledon
                                <option value="Blackburn">Blackburn
                                <option value="Coventry">Coventry
                                <option value="Man United">Man United
                                <option value="QPR">QPR
                                <option value="Sheffield Weds">Sheffield Weds
                                <option value="Swindon">Swindon
                                <option value="Crystal Palace">Crystal Palace
                                <option value="Leicester">Leicester
                                <option value="Nott'm Forest">Nott'm Forest
                                <option value="Bolton">Bolton
                                <option value="Middlesbrough">Middlesbrough
                                <option value="Derby">Derby
                                <option value="Sunderland">Sunderland
                                <option value="Barnsley">Barnsley
                                <option value="Charlton">Charlton
                                <option value="Watford">Watford
                                <option value="Bradford">Bradford
                                <option value="Fulham">Fulham
                                <option value="Birmingham">Birmingham
                                <option value="Portsmouth">Portsmouth
                                <option value="Wolves">Wolves
                                <option value="West Brom">West Brom
                                <option value="Wigan">Wigan
                                <option value="Reading">Reading
                                <option value="Hull">Hull
                                <option value="Stoke">Stoke
                                <option value="Burnley">Burnley
                                <option value="Blackpool">Blackpool
                                <option value="Swansea">Swansea
                                <option value="Cardiff">Cardiff
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <div id="match_goal" style="width:100%; height: 600px; margin-bottom: 10px;"></div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="match_goal_select">Display Data for Year:</label>
                        </div>
                        <select class="custom-select" id="match_goal_select" onchange="match_goal_select_handle()">
                            <option value="1993-1994">1993-1994
                            <option value="1994-1995">1994-1995
                            <option value="1995-1996">1995-1996
                            <option value="1996-1997">1996-1997
                            <option value="1997-1998">1997-1998
                            <option value="1998-1999">1998-1999
                            <option value="1999-2000">1999-2000
                            <option value="2000-2001">2000-2001
                            <option value="2001-2002">2001-2002
                            <option value="2003-2004">2003-2004
                            <option value="2004-2005">2004-2005
                            <option value="2005-2006">2005-2006
                            <option value="2006-2007">2006-2007
                            <option value="2007-2008">2007-2008
                            <option value="2008-2009">2008-2009
                            <option value="2009-2010">2009-2010
                            <option value="2010-2011">2010-2011
                            <option value="2011-2012">2011-2012
                            <option value="2012-2013">2012-2013
                            <option value="2013-2014">2013-2014
                            <option value="2014-2015" selected>2014-2015
                        </select>
                    </div>
                </div>
                <div class="col-md-4 d-flex align-items-center">
                    <p>A more intuitive observation of the team performance can be derived from the match results.
                        As for the heatmap presented on the left, X-axis stands for the home team, and the Y-axis stands
                        for the away team. The number represents
                        how many more goals are scored by the home team over the away team. A red grid means the winning
                        of the home team, and a green one means otherwise. The performance of a team for one season can be
                        easily observed from its corresponding column and row.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="jumbotron jumbotron-fluid" style="background-color: white">
        <div class="container">
            <div class="row">
                <div class="col-md-4 d-flex align-items-center">
                    <p>We can get even more detailed insights by taking more information into consideration.
                        The number of corners, yellow and red cards, fouls committed, and shots, are also very
                        important match statics. We measure those metrics using a radar plot (the closer to 1,
                        the better). We observe that strong teams are indeed strong in the figures: more shots,
                        more goals, fewer goals conceded; weaker teams may outperform other teams in one aspect,
                        but they all have shortcomings.</p>
                </div>
                <div class="col-md-8">
                    <div id="team_radar" style="width:100%; height: 600px; margin-bottom: 10px;"></div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="team_radar_select">Display Data for Year:</label>
                        </div>
                        <select class="custom-select" id="team_radar_select" onchange="team_radar_select_handle()">
                                <option value="2000-2001">2000-2001
                                <option value="2001-2002">2001-2002
                                <option value="2003-2004">2003-2004
                                <option value="2004-2005">2004-2005
                                <option value="2005-2006">2005-2006
                                <option value="2006-2007">2006-2007
                                <option value="2007-2008">2007-2008
                                <option value="2008-2009">2008-2009
                                <option value="2009-2010">2009-2010
                                <option value="2010-2011">2010-2011
                                <option value="2011-2012">2011-2012
                                <option value="2012-2013">2012-2013
                                <option value="2013-2014">2013-2014
                                <option value="2014-2015" selected>2014-2015
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <div class="row">
                <div class="col-md-7">
                    <div class='tableauPlaceholder' id='viz1544065223868' style='position: relative'><noscript><a href='#'><img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;So&#47;SoccerDataAnalysis&#47;CrucialnessofGame&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='SoccerDataAnalysis&#47;CrucialnessofGame' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;So&#47;SoccerDataAnalysis&#47;CrucialnessofGame&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1544065223868');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
                </div>
                <div class="col-md-5 d-flex align-items-center">
                    <p>This chart explores the relationship between aggressiveness of a team and their ability to win. The color indicates the average net goal wins per season for each team, with red as winning and blue as losing. The aggressiveness of a team is measured by the number of corners and shots, and it is visualized as the size of circles. It is clear that the top teams of the league, such as Liverpool and Chelsea, are exactly those ones tend to be more aggressive, but there are also exceptions, like Chelsea got top rank in 2005-2006 with conservative playing style. Moreover, since more corners and shots also means that there are more chances attempted by a team, it is also shown that low-ranking teams, such as Sunderland, does not have much chances in matches. In general, we believe the aggressiveness of a team is a good indicator of its power, but this value is not consistent through time period. We believe this is due to the change of coaches and team members. In the Chelsea 2005-2006 example mentioned above, their coach is Mourinho, who is well known as a coach playing conservatively.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="jumbotron jumbotron-fluid" style="background-color: white">
        <div class="container">
            <div class="row">
                <div class="col-md-4 d-flex align-items-center">
                    <p>Because we are interested in building a prediction model, we explored the correlation between odds from different bookmakers. We visualized the average odds between each pair of home team – away team over 10 years’ interval from 8 popular bookmakers. Not surprisingly, the odds from different companies are highly correlated, but the variance tends to be relatively higher with lower odds (lower odds = larger in value). Moreover, the distribution of odds fits in our intuition: the stronger team are preferred with higher odds. An fun fact observed is that some bookmakers, such as Bet365, tend to consistently providing better odds than others. </p>
                </div>
                <div class="col-md-8">
                        <div class='tableauPlaceholder' id='viz1544089350485' style='position: relative'><noscript><a href='#'><img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;So&#47;SoccerDataAnalysis&#47;OddsfromDifferentBookmakers&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='SoccerDataAnalysis&#47;OddsfromDifferentBookmakers' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;So&#47;SoccerDataAnalysis&#47;OddsfromDifferentBookmakers&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1544089350485');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
              </div>
            </div>
        </div>
    </div>

    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <div class="row">
                <div class="col-md-7">
                    <div class='tableauPlaceholder' id='viz1544089319297' style='position: relative'><noscript><a href='#'><img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;J8&#47;J8382YCJJ&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='path' value='shared&#47;J8382YCJJ' /> <param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;J8&#47;J8382YCJJ&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1544089319297');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
              </div>
                <div class="col-md-5 d-flex align-items-center">
                    <p>In the world of soccer, there exists pairs of well-known “rivals”, and the games between them are believed to be more intense: with more fouls committed and a higher chance of getting cards. To find whether this kind of rivalry really exists, we visualized the number of fouls committed per game as a red bar, with the color indicating the number of cards got in that game (yellow card gets 10 points, red card gets 25 points). According to the chart, we found that some of the games with top number of fouls and cards do come from matches between rivals. For example, a large portion of games between Liverpool – Manchester United has many fouls committed, and the Manchester Derby also provides a lot of fouls and cards. However, when one team is clearly stronger than another (for example, Liverpool - Everton), the games are not so intense even between rivals. On the other hand, the evenly-matched games are usually more intense even the teams are not traditionally believed to be rivals. Hence, even though we can feel the intense atmosphere when the big games are coming, their influence are not always reflected by the match statistics. The power of a team and the play style of a team clearly contribute more to the distribution of fouls.</p>
                </div>
            </div>
        </div>
    </div>

    <footer class="container">
        <p class="text-black-50">Lucen Zhao, Zhihao Zhou, Jiayuan Xu, Siang Gao @CMU, 2018</p>
    </footer>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.js"></script>
    <script src="home_away_win.js"></script>
    <script src="goal_num.js"></script>
    <script>goal_num_select_handle()</script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="https://code.highcharts.com/modules/heatmap.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="match_goal_heatmap.js"></script>
    <script>match_goal_select_handle()</script>
    <script src="team_radar.js"></script>
    <script>team_radar_select_handle()</script>
  </body>
</html>
